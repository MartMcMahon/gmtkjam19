<!DOCTYPE html>
<html>
<meta charset=utf-8>
<title>Only One</title>
<style>
	html, body {
		margin: 0;
		border: 0;
		font-size: 16px;
	}
	.wrapper {
		width: 940px;
		padding: 10px;
		margin: 0 auto;
	}
	.gameboard {
		float: left;
		height:  480px;
		width: 480px;
	}
	.row {
		height: 10%;
		width: 100%;
		clear: both;
	}
  .subtile {
		background-image: url('./gfx/Overworld.png');
		display: block;
		position: relative;
		float: left;
		height: 16px;
		width: 16px;
  }
	.boardcell {
		display: block;
		position: relative;
		float: left;
		height: 100%;
		width: 10%;
	}
	.boardentity {
		display: block;
		position: absolute;
		top: 0; right: 0; bottom: 0; left: 0;
		background-size: 85%;
		background-repeat: no-repeat;
	}
	.controls {
		float: left;
		width: 440px;
		margin-left: 20px;
	}
	button {
		height: 40px;
		width: 100%;
		margin-bottom: 10px;
	}
</style>
<script>
	var board_size = [10, 10];
</script>
<body>
<div class="wrapper">
	<div class="gameboard">
		<script>
      var subTiles = "";
      for (var c = 0; c < 9; c++) {
        subTiles += "<div class='subtile' id='subtile-" + c + "'></div>";
      }

			for (var y=0; y<board_size[1];y++) {
				document.write("<div class='row'>");
				for (var x=0; x<board_size[0];x++) {
					document.write("<div class='boardcell' id='tile-" + x + "-" + y + "'>" + subTiles + "<div class='boardentity' id='entity-" + x + "-" + y + "'></div></div>");
				}
				document.write("</div>");
			}
		</script>
	</div>
	<div class="controls">
		<div>Species Left: <span id="species-count"></span></div>
		<div>Round: <span id="round-number"></span></div>

		<button onClick="game_tick()">tick</button>
		<button onClick="decimate()">Decimate</button>
		<button onClick="spawn()">Spawn</button>
		<button>Plague (category decimate)</button>
	</div>
</div>

<script src="assets.js"></script>
<script src="utils.js"></script>
<script src="constants.js"></script>
<script src="event_handlers.js"></script>
<script src="board.js"></script>
<script src="engine.js"></script>
<script type="text/javascript">
	init_board();
	render_board();
	setInterval(function() {
		setTimeout(function() {
			render_board();
		}, 666);
		setTimeout(function() {
			render_board();
		}, 1333);
		game_tick();
	}, 2000);
</script>
